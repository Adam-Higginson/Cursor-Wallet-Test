# Learning Mode - mDL Wallet Project

I am learning Swift while building this mDL wallet app.

## My Background
- Strong in Java, TypeScript, and general programming
- Want to understand Swift deeply, not just get working code

## How to Help Me Learn

### Always explain before implementing:
1. What Swift concept we're using
2. How it differs from Java/TypeScript
3. Why this approach is idiomatic Swift
4. Common pitfalls to avoid

### Code generation approach:
- Break complex features into small, digestible steps
- Add detailed comments explaining Swift-specific patterns
- Show me both the "obvious" way and the "Swift" way
- Point out Swift best practices as you go

### When writing code:
- Use Swift naming conventions
- Prefer structs over classes (explain when to use each)
- Use proper error handling (Result types, throws)
- Demonstrate Swift features like optionals, protocol extensions, property observers
- Follow ISO 18013-5 spec requirements for mDL implementation

### For mDL-specific code:
- Add comments referencing ISO 18013-5 sections
- Explain cryptographic concepts clearly
- Use CryptoKit for all crypto operations
- Store keys only in iOS Keychain
- Follow Apple's security best practices

### Teaching style:
- Compare to Java/TypeScript when explaining new concepts
- Ask me questions to check understanding before moving forward
- Suggest experiments I can try to deepen learning
- Point out when I should try writing code myself vs having you generate it
```

## Step 3: Start Your First Learning Session

Use **Agent mode (Cmd+I)** for this initial prompt:
```
Let's start Phase 1: Understanding Swift Basics through Building the Data Model.

I want to create the core mDL document data structure, but use this as a chance 
to learn Swift fundamentals.

Please:
1. Explain what an mDL document contains (according to ISO 18013-5)
2. Teach me about Swift structs vs classes - when to use which
3. Walk me through creating an MDLDocument struct with:
   - Basic properties (documentNumber, givenName, familyName, birthDate, etc.)
   - Proper Swift types (String, Date, optional types)
   - An initializer
   
Stop after creating the basic struct so I can ask questions and understand it.

Create the file structure:
- Models/MDLDocument.swift
- Add detailed comments explaining each Swift concept

Explain as you build.
```

## Step 4: Learning Workflow Pattern

For each feature, use this pattern:

### **Pattern A: "Explain Then Build"**
```
I need to implement [FEATURE].

Before writing code:
1. Explain the Swift concepts involved
2. Compare to how I'd do this in TypeScript/Java
3. Outline the approach
4. Highlight any "gotchas"

Then implement it step-by-step with explanations.

Today's feature: CBOR encoding for mDL documents
```

### **Pattern B: "Build With Me"**
```
Let's build [FEATURE] together incrementally:

Step 1: Just the basic structure - explain why we structure it this way
[wait for my OK]

Step 2: Add the core logic - explain the Swift patterns you're using
[wait for my OK]

Step 3: Add error handling - teach me Swift error patterns
[wait for my OK]

Step 4: Add tests - show me XCTest basics

Today's feature: CryptoService for signing mDL data
```

### **Pattern C: "Review and Learn"**
```
@Models/MDLDocument.swift

Review this code and teach me:
1. What Swift features are being used here?
2. What would this look like in TypeScript? What's different?
3. Are there any Swift best practices I should notice?
4. What could I experiment with to understand this better?
5. What might break if I change X?

Act like you're doing a code review for a Swift learner.
```

## Step 5: Suggested Learning Path

Here's a prompt to get your learning roadmap:
```
Create a 6-week learning plan for building my mDL wallet while learning Swift.

For each week, specify:
- Swift concepts to learn
- mDL features to build
- Hands-on exercises to try
- Key differences from Java/TypeScript to understand

Week 1 should cover:
- Structs, classes, protocols
- Optionals
- Basic data modeling
- Build: MDL document model

Week 2 should cover:
- Error handling (Result, throws)
- CryptoKit basics
- Protocols and protocol extensions
- Build: Crypto service for signing

Continue through Week 6 with a complete mDL holder app.
```

## Step 6: Daily Development Rhythm

**Morning (30 min) - Concept Learning:**
```
Today I want to learn about [SWIFT CONCEPT].

Teach me:
1. What it is and why Swift has it
2. How it compares to Java/TypeScript
3. Show me 3 examples: simple, intermediate, advanced
4. Common mistakes to avoid
5. How we'll use it in the mDL wallet

Today's concept: Protocol-Oriented Programming
```

**Midday (1-2 hours) - Building:**
```
Now let's apply what I learned to build [FEATURE].

Break it down:
1. Design the approach (teach me Swift patterns)
2. Implement piece by piece (explain as you go)
3. Add tests (teach me XCTest)
4. Refactor to be more "Swift-like" (explain improvements)

Today's feature: QR code generation for device engagement
```

**Afternoon (30 min) - Hands-on Practice:**
```
I want to try implementing [SMALL FEATURE] myself with minimal help.

Give me:
1. Requirements for the feature
2. Hints about which Swift features to use
3. The function signature to implement
4. Let me try writing it
5. Then review my code and teach me improvements

Today's practice: Add validation to MDLDocument
```

## Step 7: Specific Learning Prompts for Your Journey

**Week 1: Swift Fundamentals**
```
Let's learn Swift basics through building the data layer.

Teach me about optionals while we build MDLDocument:
1. Why does Swift have optionals?
2. Show me ?, !, ??, if let, guard let
3. Implement MDLDocument with optional fields (some data might be missing)
4. Show me good vs bad optional handling
5. Compare to TypeScript's optional chaining

Build the code and explain each optional-related decision.
```

**Week 2: Protocols and Services**
```
I need to learn protocol-oriented programming.

Compare to Java interfaces and TypeScript interfaces, then:
1. Create a CryptoService protocol
2. Show me protocol extensions (this is unique to Swift!)
3. Implement it for mDL signing
4. Explain when to use protocols vs inheritance
5. Show me how this is better than OOP

Build it while teaching me these concepts.
```

**Week 3: SwiftUI Basics**
```
Time to learn SwiftUI. I know React/TypeScript.

Compare and contrast:
1. SwiftUI declarative syntax vs React
2. @State vs useState
3. @Binding vs props
4. Show me how to build a wallet view
5. Explain the SwiftUI lifecycle

Build a simple view together and explain each concept.
```

## Step 8: Checkpoint Questions

After each session, ask yourself:
```
Review what we built today and test my understanding:

1. What Swift concepts did we use?
2. How is this different from how I'd do it in Java/TypeScript?
3. If I had to modify this code tomorrow, what would I change?
4. What's one thing I learned that surprised me?
5. What's one thing I still don't fully understand?

Based on my answers, suggest what to review or practice.
```

## Step 9: Example Complete Session

Here's what your first session might look like:

**Open Cursor, press Cmd+I (Agent mode):**
```
Session 1: Swift Basics + mDL Data Model

I'm starting my mDL wallet project. I want to learn Swift structs and optionals
while building the data model.

Phase 1 - Teach me structs (10 min):
- What's the difference between struct and class in Swift?
- When should I use each?
- How does this compare to Java (only has classes) and TypeScript?

Phase 2 - Build together (20 min):
- Create Models/MDLDocument.swift
- Define a struct with properties for mDL data
- Explain each type choice
- Show me Swift naming conventions

Phase 3 - Learn optionals (15 min):
- Some mDL fields are optional (not everyone has a middle name)
- Teach me Swift optionals
- Show me different unwrapping patterns
- Implement optional fields in MDLDocument

Phase 4 - Practice (15 min):
- Ask me to add 3 more properties myself
- Review my code and teach me improvements

Let's start with Phase 1. Teach me about structs.
```

## Ready to Start?

Try this as your very first prompt in Cursor:
```
I'm ready to learn Swift and build an mDL wallet app!

My background: Java, TypeScript, CompSci degree, lead engineer role

Today's goal: Set up the project structure and build my first Swift model

Please:
1. Explain how we'll organize this project (Swift conventions)
2. Teach me about structs vs classes
3. Help me create the MDLDocument data model
4. Explain Swift concepts as we go
5. Compare to TypeScript/Java when it helps

Let's start by creating the proper folder structure for a Swift/iOS project.
What should we create?

# Testing Philosophy

## Test-Driven Learning:
- Write tests BEFORE or ALONGSIDE implementation
- Tests help me understand what the code should do
- Use tests to experiment with Swift features safely
- Tests document expected behavior

## Testing approach:
- Use XCTest framework (explain differences from Jest/JUnit)
- Write unit tests for all business logic
- Test error cases explicitly (Swift error handling)
- Use test cases to learn Swift patterns
- Mock external dependencies (Keychain, crypto operations)

## For each feature:
1. Explain what we're testing and why
2. Write tests first (TDD approach)
3. Implement to make tests pass
4. Refactor and ensure tests still pass
5. Add edge case tests

## Testing mDL-specific code:
- Test CBOR encoding/decoding with known test vectors
- Test cryptographic operations with test keys
- Test validation logic thoroughly
- Test error conditions (invalid data, missing fields)
- Never use real keys in tests

## Teaching style for tests:
- Explain XCTest assertions (compare to Jest/JUnit)
- Show me how to structure test cases
- Teach me about test doubles (mocks, stubs, fakes)
- Explain async testing in Swift
- Show me how to test SwiftUI views
